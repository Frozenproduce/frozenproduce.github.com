
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Acts As Developer</title>
  <meta name="author" content="Adam Carlile">

  
  <meta name="description" content="Well over the past few weeks I&#8217;ve been working on a little gem that makes it
easy to get notifications when the Tube status changes.
As a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.adamcarlile.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Acts As Developer" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Acts As Developer</a></h1>
  
    <h2>The ramblings of a Ruby developer living in London</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.adamcarlile.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/30/hello-service_disruption-gem/">Hello Service_disruption Gem</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-30T00:00:00+01:00" pubdate data-updated="true">Apr 30<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Well over the past few weeks I&#8217;ve been working on a little gem that makes it
easy to get notifications when the <a href="http://tfl.gov.uk">Tube</a> status changes.
As a byproduct it also gives easy access to the tube data as ruby objects too
:)</p>

<p>Previously you&#8217;d have to actively check the TFL website, or sign up for the
<a href="http://alerts.tfl.gov.uk">TFL Alerts </a>programme, which sends you text alerts.</p>

<p>However service_disruption polls the TFL Data feed for changes, and if there
are changes it will alert you using Growl.</p>

<p>So in order to get this to work you&#8217;ll need</p>

<ul>
<li>Ruby 1.8.7 / 1.9.3</li>
<li><a href="http://growl.info/downloads">Growl</a></li>
<li>Apple Mac</li>
</ul>


<p><a href="https://github.com/Frozenproduce/service_disruption">Installation
instructions</a> are
available at the projects <a href="https://github.com/Frozenproduce/service_disruption">github
repo</a></p>

<p>As always any feedback would be great, and suggestions for improvements.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/24/hash-extensions-for-dealing-with-camelcase-xml-documents/">Hash Extensions for Dealing With CamelCase XML Documents</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-24T00:00:00+01:00" pubdate data-updated="true">Apr 24<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m looking at you Microsoft web services!</p>

<p>Anyway, a quick extension to the Hash class to add the rubyfy_keys! method and
it&#8217;s recursive partners.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;active_support/core_ext&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Hash</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">rubyfy_keys!</span>
</span><span class='line'>    <span class="n">keys</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">key</span><span class="o">|</span>
</span><span class='line'>      <span class="nb">self</span><span class="o">[</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">underscore</span> <span class="k">rescue</span> <span class="n">key</span><span class="p">)</span> <span class="o">||</span> <span class="n">key</span><span class="o">]</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="nb">self</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">recursively_rubyfy_keys!</span>
</span><span class='line'>    <span class="n">rubyfy_keys!</span>
</span><span class='line'>    <span class="n">values</span><span class="o">.</span><span class="n">each</span><span class="p">{</span><span class="o">|</span><span class="n">h</span><span class="o">|</span> <span class="n">h</span><span class="o">.</span><span class="n">recursively_rubyfy_keys!</span>  <span class="k">if</span> <span class="n">h</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Hash</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>    <span class="n">values</span><span class="o">.</span><span class="n">select</span><span class="p">{</span><span class="o">|</span><span class="n">v</span><span class="o">|</span> <span class="n">v</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="nb">Array</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="n">flatten</span><span class="o">.</span><span class="n">each</span><span class="p">{</span><span class="o">|</span><span class="n">h</span><span class="o">|</span> <span class="n">h</span><span class="o">.</span><span class="n">recursively_rubyfy_keys!</span> <span class="k">if</span> <span class="n">h</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Hash</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>    <span class="nb">self</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">recursively_symbolize_keys!</span>
</span><span class='line'>    <span class="n">symbolize_keys!</span>
</span><span class='line'>    <span class="n">values</span><span class="o">.</span><span class="n">each</span><span class="p">{</span><span class="o">|</span><span class="n">h</span><span class="o">|</span> <span class="n">h</span><span class="o">.</span><span class="n">recursively_symbolize_keys!</span>  <span class="k">if</span> <span class="n">h</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Hash</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>    <span class="n">values</span><span class="o">.</span><span class="n">select</span><span class="p">{</span><span class="o">|</span><span class="n">v</span><span class="o">|</span> <span class="n">v</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="nb">Array</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="n">flatten</span><span class="o">.</span><span class="n">each</span><span class="p">{</span><span class="o">|</span><span class="n">h</span><span class="o">|</span> <span class="n">h</span><span class="o">.</span><span class="n">recursively_symbolize_keys!</span> <span class="k">if</span> <span class="n">h</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Hash</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>    <span class="nb">self</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">recursively_rubyfy_and_symbolize_keys!</span>
</span><span class='line'>    <span class="n">recursively_rubyfy_keys!</span>
</span><span class='line'>    <span class="n">recursively_symbolize_keys!</span>
</span><span class='line'>    <span class="nb">self</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/24/heroku-airbrake-post-deploy-hook/">Heroku Airbrake Post Deploy Hook</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-24T00:00:00+00:00" pubdate data-updated="true">Feb 24<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After a lot of trawling around the internet I couldn&#8217;t find any reference as
to how to set up a post deploy hook for heroku. Even the
airbrake:heroku:add_post_deploy_hook rake task didn&#8217;t seem to work, so I have
managed to piece together my own custom post deploy hook</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>heroku addons:add deployhooks:http url='http://airbrake.io/deploys.txt?deploy[rails_env]=YOUR_ENVIRONMENT
</span><span class='line'>                                    &api_key=YOUR_API_KEY&deploy[local_username]={user}
</span><span class='line'>                                    &deploy[scm_repository]=git@github.com:youruser/your-repo.git&deploy[scm_revision]={head}'
</span><span class='line'>                                    --app heroku_app_name</span></code></pre></td></tr></table></div></figure>


<p>I hope this can help someone!</p>

<ul>
<li><a href="http://devcenter.heroku.com/articles/deploy-hooks">Heroku post deploy hook docs</a></li>
<li><a href="http://help.airbrake.io/kb/api-2/deploy-tracking">Airbrake post deploy hook docs</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/17/queuing-sunspot-indexing-jobs-with-resque/">Queuing Sunspot Indexing Jobs With Resque</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-17T00:00:00+00:00" pubdate data-updated="true">Jan 17<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m currently working on a social networking
<a href="http://beta.wellbeinginthecity.me/">platform</a>(very beta!) for London, and we
use <a href="https://github.com/defunkt/resque">Resque</a> to handle all of our
background jobs, sending outbound mail, image processing etc.</p>

<p>We recently implemented <a href="http://sunspot.github.com/">Sunspot</a> and
<a href="http://lucene.apache.org/solr/">Solr</a> for indexing our models to allow rapid
full text searching. Now <a href="http://sunspot.github.com/">Sunspot</a> is awesome, has
a great DSL and makes indexing and searching super easy, it also has great
built in support for <a href="https://github.com/tobi/delayed_job">DelayedJob</a>, which
is another awesome background processing framework.</p>

<p>However since we&#8217;ve already implemented
<a href="https://github.com/defunkt/resque">Resque</a> it seemed the logical choice to
integrate it with <a href="http://sunspot.github.com/">Sunspot</a>. But documentation
seems to be patchy at best as to how to implement the queue with Resque.</p>

<h2>Enter SunspotSessionProxy</h2>

<p>SunspotSessionProxy is a class that sits between the
<a href="http://sunspot.github.com/">Sunspot</a> interface and the
<a href="http://lucene.apache.org/solr/">Solr</a> server, allowing you to change the
behaviour of certain actions that Sunspot will perform, such as indexing,
searching etc.</p>

<p>So through this class we can modify the default behaviour of the index action
to route it via a <a href="https://github.com/defunkt/resque">Resque</a> worker.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">Sunspot</span>
</span><span class='line'>  <span class="k">class</span> <span class="nc">ResqueSessionProxy</span> <span class="o">&lt;</span> <span class="no">Sunspot</span><span class="o">::</span><span class="no">SessionProxy</span><span class="o">::</span><span class="no">AbstractSessionProxy</span>
</span><span class='line'>
</span><span class='line'>    <span class="kp">attr_reader</span> <span class="ss">:original_session</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">delegate</span> <span class="ss">:config</span><span class="p">,</span> <span class="ss">:delete_dirty?</span><span class="p">,</span> <span class="ss">:dirty?</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:new_search</span><span class="p">,</span> <span class="ss">:search</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:new_more_like_this</span><span class="p">,</span> <span class="ss">:more_like_this</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:remove</span><span class="p">,</span> <span class="ss">:remove!</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:remove_by_id</span><span class="p">,</span> <span class="ss">:remove_by_id!</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:remove_all</span><span class="p">,</span> <span class="ss">:remove_all!</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:batch</span><span class="p">,</span> <span class="ss">:commit</span><span class="p">,</span> <span class="ss">:commit_if_delete_dirty</span><span class="p">,</span> <span class="ss">:commit_if_dirty</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:index!</span><span class="p">,</span> <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="ss">:session</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span class='line'>      <span class="vi">@original_session</span> <span class="o">=</span> <span class="n">session</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">alias_method</span> <span class="ss">:session</span><span class="p">,</span> <span class="ss">:original_session</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="o">*</span><span class="n">objects</span><span class="p">)</span>
</span><span class='line'>      <span class="n">args</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>      <span class="n">objects</span><span class="o">.</span><span class="n">flatten</span><span class="o">.</span><span class="n">compact</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">object</span><span class="o">|</span>
</span><span class='line'>        <span class="n">args</span> <span class="o">&lt;&lt;</span> <span class="n">object</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="n">object</span><span class="o">.</span><span class="n">id</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>      <span class="no">Resque</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="no">Sunspot</span><span class="o">::</span><span class="no">IndexJob</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="k">unless</span> <span class="n">args</span><span class="o">.</span><span class="n">empty?</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This class delegates all of it&#8217;s methods to the Session class, apart from the
index method, which we have rewritten to include a call to
<a href="https://github.com/defunkt/resque">Resque</a> to enqueue the job.</p>

<p>We also keep hold of the original session so that we can call it from inside
the Resque worker, so we can actually run the original indexing method,
instead of our modified index method</p>

<h2>Work, Work, Work</h2>

<p>Here&#8217;s the code for the <a href="https://github.com/defunkt/resque">Resque</a> worker.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">Sunspot</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">class</span> <span class="nc">IndexJob</span>
</span><span class='line'>
</span><span class='line'>    <span class="vi">@queue</span> <span class="o">=</span> <span class="ss">:indexer</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">perform</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span class='line'>      <span class="n">objects</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>      <span class="n">args</span><span class="o">.</span><span class="n">each_slice</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span><span class="o">|</span>
</span><span class='line'>        <span class="n">object</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="n">constantize</span><span class="o">.</span><span class="n">find_by_id</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</span><span class='line'>        <span class="c1"># don&#39;t blow up if the object no longer exists in the db</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">object</span>
</span><span class='line'>          <span class="n">objects</span> <span class="o">&lt;&lt;</span> <span class="n">object</span>
</span><span class='line'>        <span class="k">end</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>      <span class="no">Sunspot</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">original_session</span><span class="o">.</span><span class="n">index!</span><span class="p">(</span><span class="o">*</span><span class="n">objects</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Very simple, just takes the arguments passed by the ResqueSessionProxy#index,
gets all the AR objects, and then runs the original sessions index method from
inside the worker thread</p>

<h2>The Final Piece</h2>

<p>Finally we have to tell <a href="https://github.com/defunkt/resque">Resque</a> to use
this new session proxy, so just a simple line an in initialiser will do it</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Sunspot</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="no">Sunspot</span><span class="o">::</span><span class="no">ResqueSessionProxy</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">Sunspot</span><span class="o">.</span><span class="n">session</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>That&#8217;s it! Hopefully that has helped some of you, as I&#8217;ve not seen any
documentation on this subject</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/11/01/if-i-could-turn-back-time/">If I Could Turn Back TIME</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-01T00:00:00+00:00" pubdate data-updated="true">Nov 1<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Time, we can all agree, is an incredibly useful concept, unfortunately the
recent decision to drop <code>&lt;time&gt;</code> from the HTML5 spec is not useful.</p>

<p>After all every website that I&#8217;ve recently developed has made use of the
<code>&lt;time&gt;</code> element, inside <code>&lt;article&gt;</code>, making publish dates something that hold
semantic meaning in relation to the <code>&lt;article&gt;</code> in question.</p>

<p>The decision to remove it has been wholeheartedly rejected by the developer
community.</p>

<ul>
<li><a href="http://www.zeldman.com/2011/10/31/goodbye-html5-element/">Zeldman</a></li>
<li><a href="http://www.brucelawson.co.uk/2011/goodbye-html5-time-hello-data/">Bruce Lawson </a></li>
</ul>


<p>Along with a new website,
<a href="http://whynotime.com/">http://whynotime.com/</a>, and a
trending hashtag <a href="https://twitter.com/#!/search/%23occupyhtml5">#occupyhtml5</a></p>

<p>Github and Twitter both use the <code>&lt;time&gt;</code> tag extensively, it seems to me to be
incredibly short sighted to remove such a useful element and replace it with
something vague and totally meaningless, <code>&lt;data&gt;</code>. <code>&lt;data&gt;</code> can contain anything,
and has no meaning to the <code>&lt;article&gt;</code> in question.</p>

<p>It seams like a real step backwards to the days of endless <code>&lt;div&gt;</code> and <code>&lt;span&gt;</code>
elements, except this time endless <code>&lt;data&gt;</code> elements with all sorts of
meaningless data within, holding no semantic value whatsoever.</p>

<p>I can only hope that the W3C reverse this decision for the good of the HTML5
spec.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/31/meta-programming-serialization/">Meta Programming, Serialization</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-31T00:00:00+00:00" pubdate data-updated="true">Oct 31<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Oh wow, has it been that long already, I need to force myself to post
something at least once a week, even if it&#8217;s just posting pictures of cats!</p>

<p>So I&#8217;m currently working on a social media platform for London, with it&#8217;s main
purpose being to promote a wellbeing lifestyle in a hectic city. I wrote this
handy little utility module for creating methods from serialized data.</p>

<p>Say, for example you have an object, but it can have serialized data stored
within a hash in the database, instead of getting the data through the hash
notation, you can now access it directly as Object.first.hash_key_name instead
of Object.first.hash[:hash_key_name]</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">ExtraFields</span>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">included</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">base</span><span class="o">.</span><span class="n">serialized_fields</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">method_name</span><span class="o">|</span>
</span><span class='line'>      <span class="n">base</span><span class="o">.</span><span class="n">class_eval</span> <span class="o">&lt;&lt;-</span><span class="no">EOS</span>
</span><span class='line'><span class="sh">        def #{method_name.to_s}</span>
</span><span class='line'><span class="sh">          extra_fields[:#{method_name}] if extra_fields &amp;&amp; extra_fields[:#{method_name}]</span>
</span><span class='line'><span class="sh">        end</span>
</span><span class='line'><span class="sh">        def #{method_name.to_s}=(value)</span>
</span><span class='line'><span class="sh">          self.extra_fields[:#{method_name}] = value</span>
</span><span class='line'><span class="sh">        end</span>
</span><span class='line'><span class="no">      EOS</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is handy in two ways, you can access serialized data directly as methods
of the class instance. Plus you can use the serialized fields directly in a
form, as the module automatically creates the setters for the hashes keys.
Pretty handy, you just have to specify in an array of serialized field symbols
as a private method in the parent class.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Page</span>
</span><span class='line'>  <span class="kp">include</span> <span class="no">ExtraFields</span>
</span><span class='line'>
</span><span class='line'>  <span class="kp">private</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">serialized_fields</span>
</span><span class='line'>      <span class="o">[</span><span class="ss">:field_one</span><span class="p">,</span> <span class="ss">:field_two</span><span class="p">,</span> <span class="ss">:another_field</span><span class="o">]</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/06/27/the-clich-o-matic/">The Cliché-o-matic</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-27T00:00:00+01:00" pubdate data-updated="true">Jun 27<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://cliche.podisode.com">The Cliché-o-matic</a></p>

<p>This is a little something I made up for my good friend <a href="http://alexgoy.com">Alex
Goy</a> and the <a href="http://twitter.com/podisode">@Podisode</a>
boys. If you&#8217;re ever stuck for clichés to use in your writing never fear, the
cliché-o-matic is here.</p>

<p>For those that are interested it&#8217;s a simple
<a href="http://www.sinatrarb.com/">Sinatra</a> app, pulling quotes from a YAML file</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/06/01/wow-its-been-a-while/">Wow, It&#8217;s Been a While</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-01T00:00:00+01:00" pubdate data-updated="true">Jun 1<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It&#8217;s been a while since I posted last, I really need to post at least once a
week. Not a lot has happened really. I&#8217;m still unemployed, even though I think
I&#8217;m pretty good at what I do it&#8217;s starting to grate on my confidence. I guess
I&#8217;ll just keep slogging on.</p>

<p>I&#8217;m keeping myself afloat with some freelance jobs, however chasing invoices
is not something I enjoy doing. And why should I have to chase the money that
is owed to me for work that I did in good faith anyway? It&#8217;s not like this is
a one off, I feel like I should name and shame but I can&#8217;t quite bring myself
to do it.</p>

<p>In other news I managed to smash my MacBook Pro up. The machine was over four
years old, and it was only a matter of time, so I think the logic board has
burnt out, or something equally expensive. Problem being that I need a Mac in
order to make money, so I had to bite the bullet and order another one from
Apple. On the plus side I ensure I back up everything using Time Machine, so
fortunately all of my work was backed up. If you don&#8217;t back up, you need to
start now! Data is so much more valuable then hardware!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/04/26/my-contribution-to-the-royal-wedding-hysteria/">My Contribution to the Royal Wedding Hysteria!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-26T00:00:00+01:00" pubdate data-updated="true">Apr 26<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://24.media.tumblr.com/tumblr_lk9ne8vp5Y1qfxyc6o1_1280.png" alt="" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/04/08/back-to-the-uk/">Back to the UK</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-08T00:00:00+01:00" pubdate data-updated="true">Apr 8<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So after four months in Canada I&#8217;ve finally made it home and I&#8217;m settling back
in to work after having so much time off. I&#8217;ve been all over the country in
the past week attending interviews for various positions.</p>

<p>I attended an interview in Manchester to work as a volunteer for the London
2012 Olympics, I probably talked far too much, but it was great fun to talk to
a bunch of people who were really passionate about what the Olympics is going
to bring to the UK. I&#8217;ve heard nothing but negative reaction in the press
regarding the 2012 games, but I think it&#8217;s going to be a fantastic festival of
sport for the UK. I for one cannot wait if I&#8217;m involved or not, it&#8217;s just
going to be a fabulous summer!</p>

<p>I also attended an interview for a Ruby on Rails developer position in Covent
Garden, It was such a beautiful day, and confirmed everything I have thought
about working in London, the buzz of the place and the cosmopolitan lifestyle
is something that really appeals to me. I really hope I get the job!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/04/30/hello-service_disruption-gem/">Hello service_disruption gem</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/24/hash-extensions-for-dealing-with-camelcase-xml-documents/">Hash extensions for dealing with CamelCase XML documents</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/24/heroku-airbrake-post-deploy-hook/">Heroku Airbrake post deploy hook</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/01/17/queuing-sunspot-indexing-jobs-with-resque/">Queuing Sunspot indexing jobs with Resque</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/11/01/if-i-could-turn-back-time/">If I could turn back TIME</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/Frozenproduce">@Frozenproduce</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'Frozenproduce',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("Frozenproduce", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/Frozenproduce" class="twitter-follow-button" data-show-count="false">Follow @Frozenproduce</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Adam Carlile -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
